enable_tftp: true
enable_ftp: true
enable_http: true
enable_dhcpd: true
enable_nfs: true
enable_https: false

# Configure these
pxe_server_name: pxe.home.jpconsulted.com
pxe_server_ip: 10.1.0.9

vsftpd_banner_message: Welcome to PXE FTP Service
pxe_menu_x86_bios_title: BIOS PXE Boot x86_64

domain_name: home.jpconsulted.com
domain_name_servers: "10.1.0.2, 10.1.0.3"
gateway_router_ip: 10.1.0.1
ntp_server_ip: 10.1.0.2
dhcp_subnet: 10.1.0.0
dhcp_netmask: 255.255.255.0
dhcp_range_start: 10.1.0.100
dhcp_range_end: 10.1.0.250

distros:
# Pathing: /var/ftp/pub/pxe/install/{{ arch }}/{{ group }}/{ext,iso}/{{ isoURL | basename }}
# Pathing: /var/ftp/pub/pxe/tftpboot/{{ boot_method }}/{{ arch }}/( boot loader files )
# Pathing: /var/ftp/pub/pxe/tftpboot/{{ boot_method }}/{{ arch }}/{{ group }}/{{ name }}/boot


# Ubuntu Server 20.04 - x86_64
- name: ubuntu2004serverx8664 # Each name has to be unique
  displayName: Ubuntu 20.04 LTS Server # Base display name presented in the menu
  group: ubuntu20.04 # Grouping of distros, used for parent/child grouping structure
  bios_kernel: casper/vmlinuz # where on the mounted ISO file is the kernel located
  bios_initrd: casper/initrd # where on the mounted ISO file is the initrd located
  efi_kernel: casper/vmlinuz
  efi_initrd: casper/initrd
  arch: x86_64 # architecture of the distro
  family: ubuntu # family of the distro, used for logic switching between boot requirements, options are ubuntu and rhel
  isoURL: https://releases.ubuntu.com/20.04.5/ubuntu-20.04.5-live-server-amd64.iso # URL to the ISO file
  # Either isoURL or isoSrcPath need to be provided
  # isoSrcPath: /mnt/nfs-isos/ubuntu-20.04.3-live-server-amd64.iso
  protocol: http # protocol to use to boot the second stage installation, and to present as an installation source
  boot_methods: # boot methods to support with this distro, BIOS and EFI are supported on x86_64, only EFI is supported on ARM64
    - BIOS
    - EFI
  efi_options:
    - gui-install

# Ubuntu Server 22.04 - x86_64
- name: ubuntu2204serverx8664
  displayName: Ubuntu 22.04 LTS Server
  group: ubuntu22.04
  efi_kernel: casper/vmlinuz
  efi_initrd: casper/initrd
  arch: x86_64
  family: ubuntu
  isoURL: https://releases.ubuntu.com/22.04.2/ubuntu-22.04.2-live-server-amd64.iso
  protocol: http
  boot_methods:
    - EFI
  efi_options:
    - gui-install

# Ubuntu Server 22.04 - ARM64
- name: ubuntu2204serverarm64
  displayName: Ubuntu 22.04 LTS Server
  group: ubuntu22.04
  efi_kernel: casper/vmlinuz
  efi_initrd: casper/initrd
  arch: aarch64
  family: ubuntu
  isoURL: https://cdimage.ubuntu.com/releases/22.04/release/ubuntu-22.04.2-live-server-arm64.iso
  protocol: http
  boot_methods:
    - EFI
  efi_options:
    - gui-install

# Rocky 9.1 - x86_64
- name: rocky91x8664
  displayName: Rocky Linux 9.1
  group: rocky91
  efi_kernel: images/pxeboot/vmlinuz
  efi_initrd: images/pxeboot/initrd.img
  arch: x86_64
  family: rhel
  isoURL: https://download.rockylinux.org/pub/rocky/9/isos/x86_64/Rocky-9.1-x86_64-dvd.iso
  protocol: ftp
  boot_methods:
    - EFI
  efi_options:
    - gui-install
    - text-install
    - linux-rescue

# Rocky 9.1 - ARM64
- name: rocky91arm64
  displayName: Rocky Linux 9.1
  group: rocky91
  efi_kernel: images/pxeboot/vmlinuz
  efi_initrd: images/pxeboot/initrd.img
  arch: aarch64
  family: rhel
  isoURL: https://download.rockylinux.org/pub/rocky/9/isos/aarch64/Rocky-9.1-aarch64-dvd.iso
  protocol: http
  boot_methods:
    - EFI
  efi_options:
    - gui-install
    - text-install
    - linux-rescue

- name: rhel86x8664
  displayName: Red Hat Enterprise Linux 8.6
  group: rhel86
  bios_kernel: images/pxeboot/vmlinuz
  bios_initrd: images/pxeboot/initrd.img
  efi_kernel: images/pxeboot/vmlinuz
  efi_initrd: images/pxeboot/initrd.img
  arch: x86_64
  family: rhel
  # Either isoURL or isoSrcPath need to be provided
  isoSrcPath: /mnt/nfs-isos/rhel8.6-x86_64.iso
  protocol: ftp
  boot_methods:
    - BIOS
    - EFI
  efi_options:
    - gui-install
    - text-install
    - linux-rescue

- name: rhel86arm64
  displayName: Red Hat Enterprise Linux 8.6
  group: rhel86
  efi_kernel: images/pxeboot/vmlinuz
  efi_initrd: images/pxeboot/initrd.img
  arch: aarch64
  family: rhel
  # Either isoURL or isoSrcPath need to be provided
  isoSrcPath: /mnt/nfs-isos/rhel8.6-aarch64.iso
  protocol: http
  boot_methods:
    - EFI
  efi_options:
    - gui-install
    - text-install
    - linux-rescue

- name: rhel87x8664
  displayName: Red Hat Enterprise Linux 8.7
  group: rhel87
  bios_kernel: images/pxeboot/vmlinuz
  bios_initrd: images/pxeboot/initrd.img
  efi_kernel: images/pxeboot/vmlinuz
  efi_initrd: images/pxeboot/initrd.img
  arch: x86_64
  family: rhel
  # Either isoURL or isoSrcPath need to be provided
  isoSrcPath: /mnt/nfs-isos/rhel8.7-x86_64.iso
  protocol: http
  boot_methods:
    - BIOS
    - EFI
  efi_options:
    - gui-install
    - text-install
    - linux-rescue

- name: rhel91x8664
  displayName: Red Hat Enterprise Linux 9.1
  group: rhel91
  efi_kernel: images/pxeboot/vmlinuz
  efi_initrd: images/pxeboot/initrd.img
  arch: x86_64
  efi_loader_seed: true
  efi_loader_path: EFI/BOOT/ # trailing slash is important!
  family: rhel
  # Either isoURL or isoSrcPath need to be provided
  isoSrcPath: /mnt/nfs-isos/rhel9.1-x86_64.iso
  protocol: http
  boot_methods:
    - EFI
  efi_options:
    - gui-install
    - text-install
    - linux-rescue

- name: rhel91arm64
  displayName: Red Hat Enterprise Linux 9.1
  group: rhel91
  efi_kernel: images/pxeboot/vmlinuz
  efi_initrd: images/pxeboot/initrd.img
  arch: aarch64
  efi_loader_seed: true
  efi_loader_path: EFI/BOOT/ # trailing slash is important!
  family: rhel
  # Either isoURL or isoSrcPath need to be provided
  isoSrcPath: /mnt/nfs-isos/rhel9.1-aarch64.iso
  protocol: http
  boot_methods:
    - EFI
  efi_options:
    - gui-install
    - text-install
    - linux-rescue

## No need to change the following variables
# Don't change the paths unless you know what you're doing, or wnat to make a bunch of copies everywhere around the file system
global_base_path: /var/ftp/pub
httpd_document_root: "{{ global_base_path }}"
nfs_export_path: "{{ global_base_path }}"
tftp_server_sub_path: pxe/tftpboot
install_iso_mount_sub_path: pxe/install
install_iso_mount_base_path: "{{ global_base_path }}/{{ install_iso_mount_sub_path }}"
tftp_server_base_path: "{{ global_base_path }}/{{ tftp_server_sub_path }}"

## DHCPD Options
default_lease_time: 3600
max_lease_time: 7200

general_base_packages:
  - wget
  - nano
  - curl
  - openssl
  - firewalld
  - bash-completion
  - git
  - cockpit
  - gzip
  - unzip
  - nmap
  - syslinux

efi_detected: false
efi_x86_64_detected: false
efi_aarch64_detected: false
efi_x86_64_seeder_detected: false
efi_aarch64_seeder_detected: false
efi_x86_64_seeder_name: ''
efi_aarch64_seeder_name: ''